import{a as e}from"./chunk-4UYSGV57.js";import{a as t}from"./chunk-VLPNAR64.js";import{a as n,b as r}from"./chunk-GE5NEIZC.js";import{e as i}from"./chunk-35CVRQTC.js";function a(e,n,r){this.x=t(e,0),this.y=t(n,0),this.z=t(r,0)}a.fromSpherical=function(e,n){r.typeOf.object("spherical",e),i(n)||(n=new a);let o=e.clock,u=e.cone,l=t(e.magnitude,1),c=l*Math.sin(u);return n.x=c*Math.cos(o),n.y=c*Math.sin(o),n.z=l*Math.cos(u),n},a.fromElements=function(e,t,n,r){return i(r)?(r.x=e,r.y=t,r.z=n,r):new a(e,t,n)},a.clone=function(e,t){if(i(e))return i(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,n,i){return r.typeOf.object("value",e),r.defined("array",n),i=t(i,0),n[i++]=e.x,n[i++]=e.y,n[i]=e.z,n},a.unpack=function(e,n,o){return r.defined("array",e),n=t(n,0),i(o)||(o=new a),o.x=e[n++],o.y=e[n++],o.z=e[n],o},a.packArray=function(e,t){r.defined("array",e);let o=e.length,u=3*o;if(i(t)){if(!Array.isArray(t)&&t.length!==u)throw new n("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==u&&(t.length=u)}else t=Array(u);for(let n=0;n<o;++n)a.pack(e[n],t,3*n);return t},a.unpackArray=function(e,t){if(r.defined("array",e),r.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new n("array length must be a multiple of 3.");let o=e.length;i(t)?t.length=o/3:t=Array(o/3);for(let n=0;n<o;n+=3){let r=n/3;t[r]=a.unpack(e,n,t[r])}return t},a.fromArray=a.unpack,a.maximumComponent=function(e){return r.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return r.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,t,n){return r.typeOf.object("first",e),r.typeOf.object("second",t),r.typeOf.object("result",n),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},a.maximumByComponent=function(e,t,n){return r.typeOf.object("first",e),r.typeOf.object("second",t),r.typeOf.object("result",n),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},a.clamp=function(t,n,i,a){r.typeOf.object("value",t),r.typeOf.object("min",n),r.typeOf.object("max",i),r.typeOf.object("result",a);let o=e.clamp(t.x,n.x,i.x),u=e.clamp(t.y,n.y,i.y),l=e.clamp(t.z,n.z,i.z);return a.x=o,a.y=u,a.z=l,a},a.magnitudeSquared=function(e){return r.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var o,u,l,c,s,f,y,p,d,m,h,b,O,g,x,j,w,z,q=new a;a.distance=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),a.subtract(e,t,q),a.magnitude(q)},a.distanceSquared=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),a.subtract(e,t,q),a.magnitudeSquared(q)},a.normalize=function(e,t){r.typeOf.object("cartesian",e),r.typeOf.object("result",t);let i=a.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,t.z=e.z/i,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new n("normalized result is not a number");return t},a.dot=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},a.multiplyComponents=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},a.divideComponents=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},a.add=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},a.subtract=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},a.multiplyByScalar=function(e,t,n){return r.typeOf.object("cartesian",e),r.typeOf.number("scalar",t),r.typeOf.object("result",n),n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},a.divideByScalar=function(e,t,n){return r.typeOf.object("cartesian",e),r.typeOf.number("scalar",t),r.typeOf.object("result",n),n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},a.negate=function(e,t){return r.typeOf.object("cartesian",e),r.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},a.abs=function(e,t){return r.typeOf.object("cartesian",e),r.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var S=new a;a.lerp=function(e,t,n,i){return r.typeOf.object("start",e),r.typeOf.object("end",t),r.typeOf.number("t",n),r.typeOf.object("result",i),a.multiplyByScalar(t,n,S),i=a.multiplyByScalar(e,1-n,i),a.add(S,i,i)};var v=new a,E=new a;a.angleBetween=function(e,t){r.typeOf.object("left",e),r.typeOf.object("right",t),a.normalize(e,v),a.normalize(t,E);let n=a.dot(v,E);return Math.atan2(a.magnitude(a.cross(v,E,v)),n)};var A=new a;a.mostOrthogonalAxis=function(e,t){r.typeOf.object("cartesian",e),r.typeOf.object("result",t);let n=a.normalize(e,A);return a.abs(n,n),t=n.x<=n.y?n.x<=n.z?a.clone(a.UNIT_X,t):a.clone(a.UNIT_Z,t):n.y<=n.z?a.clone(a.UNIT_Y,t):a.clone(a.UNIT_Z,t)},a.projectVector=function(e,t,n){r.defined("a",e),r.defined("b",t),r.defined("result",n);let i=a.dot(e,t)/a.dot(t,t);return a.multiplyByScalar(t,i,n)},a.equals=function(e,t){return e===t||i(e)&&i(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},a.equalsEpsilon=function(t,n,r,a){return t===n||i(t)&&i(n)&&e.equalsEpsilon(t.x,n.x,r,a)&&e.equalsEpsilon(t.y,n.y,r,a)&&e.equalsEpsilon(t.z,n.z,r,a)},a.cross=function(e,t,n){r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n);let i=e.x,a=e.y,o=e.z,u=t.x,l=t.y,c=t.z;return n.x=a*c-o*l,n.y=o*u-i*c,n.z=i*l-a*u,n},a.midpoint=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=(e.x+t.x)*.5,n.y=(e.y+t.y)*.5,n.z=(e.z+t.z)*.5,n},a.fromDegrees=function(t,n,i,o,u){return r.typeOf.number("longitude",t),r.typeOf.number("latitude",n),t=e.toRadians(t),n=e.toRadians(n),a.fromRadians(t,n,i,o,u)};var M=new a,_=new a;a._ellipsoidRadiiSquared=new a(0x24ffb2985f71,0x24ffb2985f71,40408299984661.445),a.fromRadians=function(e,n,o,u,l){r.typeOf.number("longitude",e),r.typeOf.number("latitude",n),o=t(o,0);let c=i(u)?u.radiiSquared:a._ellipsoidRadiiSquared,s=Math.cos(n);M.x=s*Math.cos(e),M.y=s*Math.sin(e),M.z=Math.sin(n),M=a.normalize(M,M),a.multiplyComponents(c,M,_);let f=Math.sqrt(a.dot(M,_));return _=a.divideByScalar(_,f,_),M=a.multiplyByScalar(M,o,M),i(l)||(l=new a),a.add(_,M,l)},a.fromDegreesArray=function(e,t,o){if(r.defined("coordinates",e),e.length<2||e.length%2!=0)throw new n("the number of coordinates must be a multiple of 2 and at least 2");let u=e.length;i(o)?o.length=u/2:o=Array(u/2);for(let n=0;n<u;n+=2){let r=e[n],i=e[n+1],u=n/2;o[u]=a.fromDegrees(r,i,0,t,o[u])}return o},a.fromRadiansArray=function(e,t,o){if(r.defined("coordinates",e),e.length<2||e.length%2!=0)throw new n("the number of coordinates must be a multiple of 2 and at least 2");let u=e.length;i(o)?o.length=u/2:o=Array(u/2);for(let n=0;n<u;n+=2){let r=e[n],i=e[n+1],u=n/2;o[u]=a.fromRadians(r,i,0,t,o[u])}return o},a.fromDegreesArrayHeights=function(e,t,o){if(r.defined("coordinates",e),e.length<3||e.length%3!=0)throw new n("the number of coordinates must be a multiple of 3 and at least 3");let u=e.length;i(o)?o.length=u/3:o=Array(u/3);for(let n=0;n<u;n+=3){let r=e[n],i=e[n+1],u=e[n+2],l=n/3;o[l]=a.fromDegrees(r,i,u,t,o[l])}return o},a.fromRadiansArrayHeights=function(e,t,o){if(r.defined("coordinates",e),e.length<3||e.length%3!=0)throw new n("the number of coordinates must be a multiple of 3 and at least 3");let u=e.length;i(o)?o.length=u/3:o=Array(u/3);for(let n=0;n<u;n+=3){let r=e[n],i=e[n+1],u=e[n+2],l=n/3;o[l]=a.fromRadians(r,i,u,t,o[l])}return o},a.ZERO=Object.freeze(new a(0,0,0)),a.ONE=Object.freeze(new a(1,1,1)),a.UNIT_X=Object.freeze(new a(1,0,0)),a.UNIT_Y=Object.freeze(new a(0,1,0)),a.UNIT_Z=Object.freeze(new a(0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};var R=a,T=new R,N=new R,I=function(t,r,a,o,u){if(!i(t))throw new n("cartesian is required.");if(!i(r))throw new n("oneOverRadii is required.");if(!i(a))throw new n("oneOverRadiiSquared is required.");if(!i(o))throw new n("centerToleranceSquared is required.");let l=t.x,c=t.y,s=t.z,f=r.x,y=r.y,p=r.z,d=l*l*f*f,m=c*c*y*y,h=s*s*p*p,b=d+m+h,O=Math.sqrt(1/b),g=R.multiplyByScalar(t,O,T);if(b<o)return isFinite(O)?R.clone(g,u):void 0;let x=a.x,j=a.y,w=a.z;N.x=g.x*x*2,N.y=g.y*j*2,N.z=g.z*w*2;let z=(1-O)*R.magnitude(t)/(.5*R.magnitude(N)),q=0,S,v,E,A,M,_,I,C,F,k;do z-=q,v=1/(1+z*x),E=1/(1+z*j),A=1/(1+z*w),M=v*v,_=E*E,I=A*A,C=M*v,F=_*E,k=I*A,q=(S=d*M+m*_+h*I-1)/(-2*(d*C*x+m*F*j+h*k*w));while(Math.abs(S)>e.EPSILON12);return i(u)?(u.x=l*v,u.y=c*E,u.z=s*A,u):new R(l*v,c*E,s*A)};function C(e,n,r){this.longitude=t(e,0),this.latitude=t(n,0),this.height=t(r,0)}C.fromRadians=function(e,n,a,o){return r.typeOf.number("longitude",e),r.typeOf.number("latitude",n),a=t(a,0),i(o)?(o.longitude=e,o.latitude=n,o.height=a,o):new C(e,n,a)},C.fromDegrees=function(t,n,i,a){return r.typeOf.number("longitude",t),r.typeOf.number("latitude",n),t=e.toRadians(t),n=e.toRadians(n),C.fromRadians(t,n,i,a)};var F=new R,k=new R,U=new R;C._ellipsoidOneOverRadii=new R(1/6378137,1/6378137,1/6356752.314245179),C._ellipsoidOneOverRadiiSquared=new R(1/0x24ffb2985f71,1/0x24ffb2985f71,24747391015697002e-30),C._ellipsoidCenterToleranceSquared=e.EPSILON1,C.fromCartesian=function(t,n,r){let a=i(n)?n.oneOverRadii:C._ellipsoidOneOverRadii,o=i(n)?n.oneOverRadiiSquared:C._ellipsoidOneOverRadiiSquared,u=I(t,a,o,i(n)?n._centerToleranceSquared:C._ellipsoidCenterToleranceSquared,k);if(!i(u))return;let l=R.multiplyComponents(u,o,F);l=R.normalize(l,l);let c=R.subtract(t,u,U),s=Math.atan2(l.y,l.x),f=Math.asin(l.z),y=e.sign(R.dot(c,t))*R.magnitude(c);return i(r)?(r.longitude=s,r.latitude=f,r.height=y,r):new C(s,f,y)},C.toCartesian=function(e,t,n){return r.defined("cartographic",e),R.fromRadians(e.longitude,e.latitude,e.height,t,n)},C.clone=function(e,t){if(i(e))return i(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new C(e.longitude,e.latitude,e.height)},C.equals=function(e,t){return e===t||i(e)&&i(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},C.equalsEpsilon=function(e,n,r){return r=t(r,0),e===n||i(e)&&i(n)&&Math.abs(e.longitude-n.longitude)<=r&&Math.abs(e.latitude-n.latitude)<=r&&Math.abs(e.height-n.height)<=r},C.ZERO=Object.freeze(new C(0,0,0)),C.prototype.clone=function(e){return C.clone(this,e)},C.prototype.equals=function(e){return C.equals(this,e)},C.prototype.equalsEpsilon=function(e,t){return C.equalsEpsilon(this,e,t)},C.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`};var B=C;function P(e,n){this.x=t(e,0),this.y=t(n,0)}P.fromElements=function(e,t,n){return i(n)?(n.x=e,n.y=t,n):new P(e,t)},P.clone=function(e,t){if(i(e))return i(t)?(t.x=e.x,t.y=e.y,t):new P(e.x,e.y)},P.fromCartesian3=P.clone,P.fromCartesian4=P.clone,P.packedLength=2,P.pack=function(e,n,i){return r.typeOf.object("value",e),r.defined("array",n),i=t(i,0),n[i++]=e.x,n[i]=e.y,n},P.unpack=function(e,n,a){return r.defined("array",e),n=t(n,0),i(a)||(a=new P),a.x=e[n++],a.y=e[n],a},P.packArray=function(e,t){r.defined("array",e);let a=e.length,o=2*a;if(i(t)){if(!Array.isArray(t)&&t.length!==o)throw new n("If result is a typed array, it must have exactly array.length * 2 elements");t.length!==o&&(t.length=o)}else t=Array(o);for(let n=0;n<a;++n)P.pack(e[n],t,2*n);return t},P.unpackArray=function(e,t){if(r.defined("array",e),r.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!=0)throw new n("array length must be a multiple of 2.");let a=e.length;i(t)?t.length=a/2:t=Array(a/2);for(let n=0;n<a;n+=2){let r=n/2;t[r]=P.unpack(e,n,t[r])}return t},P.fromArray=P.unpack,P.maximumComponent=function(e){return r.typeOf.object("cartesian",e),Math.max(e.x,e.y)},P.minimumComponent=function(e){return r.typeOf.object("cartesian",e),Math.min(e.x,e.y)},P.minimumByComponent=function(e,t,n){return r.typeOf.object("first",e),r.typeOf.object("second",t),r.typeOf.object("result",n),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n},P.maximumByComponent=function(e,t,n){return r.typeOf.object("first",e),r.typeOf.object("second",t),r.typeOf.object("result",n),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n},P.clamp=function(t,n,i,a){r.typeOf.object("value",t),r.typeOf.object("min",n),r.typeOf.object("max",i),r.typeOf.object("result",a);let o=e.clamp(t.x,n.x,i.x),u=e.clamp(t.y,n.y,i.y);return a.x=o,a.y=u,a},P.magnitudeSquared=function(e){return r.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},P.magnitude=function(e){return Math.sqrt(P.magnitudeSquared(e))};var W=new P;P.distance=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),P.subtract(e,t,W),P.magnitude(W)},P.distanceSquared=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),P.subtract(e,t,W),P.magnitudeSquared(W)},P.normalize=function(e,t){r.typeOf.object("cartesian",e),r.typeOf.object("result",t);let i=P.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,isNaN(t.x)||isNaN(t.y))throw new n("normalized result is not a number");return t},P.dot=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),e.x*t.x+e.y*t.y},P.cross=function(e,t){return r.typeOf.object("left",e),r.typeOf.object("right",t),e.x*t.y-e.y*t.x},P.multiplyComponents=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x*t.x,n.y=e.y*t.y,n},P.divideComponents=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x/t.x,n.y=e.y/t.y,n},P.add=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x+t.x,n.y=e.y+t.y,n},P.subtract=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n.x=e.x-t.x,n.y=e.y-t.y,n},P.multiplyByScalar=function(e,t,n){return r.typeOf.object("cartesian",e),r.typeOf.number("scalar",t),r.typeOf.object("result",n),n.x=e.x*t,n.y=e.y*t,n},P.divideByScalar=function(e,t,n){return r.typeOf.object("cartesian",e),r.typeOf.number("scalar",t),r.typeOf.object("result",n),n.x=e.x/t,n.y=e.y/t,n},P.negate=function(e,t){return r.typeOf.object("cartesian",e),r.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},P.abs=function(e,t){return r.typeOf.object("cartesian",e),r.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var $=new P;P.lerp=function(e,t,n,i){return r.typeOf.object("start",e),r.typeOf.object("end",t),r.typeOf.number("t",n),r.typeOf.object("result",i),P.multiplyByScalar(t,n,$),i=P.multiplyByScalar(e,1-n,i),P.add($,i,i)};var L=new P,D=new P;P.angleBetween=function(t,n){return r.typeOf.object("left",t),r.typeOf.object("right",n),P.normalize(t,L),P.normalize(n,D),e.acosClamped(P.dot(L,D))};var V=new P;P.mostOrthogonalAxis=function(e,t){r.typeOf.object("cartesian",e),r.typeOf.object("result",t);let n=P.normalize(e,V);return P.abs(n,n),t=n.x<=n.y?P.clone(P.UNIT_X,t):P.clone(P.UNIT_Y,t)},P.equals=function(e,t){return e===t||i(e)&&i(t)&&e.x===t.x&&e.y===t.y},P.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},P.equalsEpsilon=function(t,n,r,a){return t===n||i(t)&&i(n)&&e.equalsEpsilon(t.x,n.x,r,a)&&e.equalsEpsilon(t.y,n.y,r,a)},P.ZERO=Object.freeze(new P(0,0)),P.ONE=Object.freeze(new P(1,1)),P.UNIT_X=Object.freeze(new P(1,0)),P.UNIT_Y=Object.freeze(new P(0,1)),P.prototype.clone=function(e){return P.clone(this,e)},P.prototype.equals=function(e){return P.equals(this,e)},P.prototype.equalsEpsilon=function(e,t,n){return P.equalsEpsilon(this,e,t,n)},P.prototype.toString=function(){return`(${this.x}, ${this.y})`};var Z=P;function Y(n,i,a,o){i=t(i,0),a=t(a,0),o=t(o,0),r.typeOf.number.greaterThanOrEquals("x",i,0),r.typeOf.number.greaterThanOrEquals("y",a,0),r.typeOf.number.greaterThanOrEquals("z",o,0),n._radii=new R(i,a,o),n._radiiSquared=new R(i*i,a*a,o*o),n._radiiToTheFourth=new R(i*i*i*i,a*a*a*a,o*o*o*o),n._oneOverRadii=new R(0===i?0:1/i,0===a?0:1/a,0===o?0:1/o),n._oneOverRadiiSquared=new R(0===i?0:1/(i*i),0===a?0:1/(a*a),0===o?0:1/(o*o)),n._minimumRadius=Math.min(i,a,o),n._maximumRadius=Math.max(i,a,o),n._centerToleranceSquared=e.EPSILON1,0!==n._radiiSquared.z&&(n._squaredXOverSquaredZ=n._radiiSquared.x/n._radiiSquared.z)}function X(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,Y(this,e,t,n)}Object.defineProperties(X.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),X.clone=function(e,t){if(!i(e))return;let n=e._radii;return i(t)?(R.clone(n,t._radii),R.clone(e._radiiSquared,t._radiiSquared),R.clone(e._radiiToTheFourth,t._radiiToTheFourth),R.clone(e._oneOverRadii,t._oneOverRadii),R.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new X(n.x,n.y,n.z)},X.fromCartesian3=function(e,t){return i(t)||(t=new X),i(e)&&Y(t,e.x,e.y,e.z),t},X.WGS84=Object.freeze(new X(6378137,6378137,6356752.314245179)),X.UNIT_SPHERE=Object.freeze(new X(1,1,1)),X.MOON=Object.freeze(new X(e.LUNAR_RADIUS,e.LUNAR_RADIUS,e.LUNAR_RADIUS)),X._default=X.WGS84,Object.defineProperties(X,{default:{get:function(){return X._default},set:function(e){r.typeOf.object("value",e),X._default=e,R._ellipsoidRadiiSquared=e.radiiSquared,B._ellipsoidOneOverRadii=e.oneOverRadii,B._ellipsoidOneOverRadiiSquared=e.oneOverRadiiSquared,B._ellipsoidCenterToleranceSquared=e._centerToleranceSquared}}}),X.prototype.clone=function(e){return X.clone(this,e)},X.packedLength=R.packedLength,X.pack=function(e,n,i){return r.typeOf.object("value",e),r.defined("array",n),i=t(i,0),R.pack(e._radii,n,i),n},X.unpack=function(e,n,i){r.defined("array",e),n=t(n,0);let a=R.unpack(e,n);return X.fromCartesian3(a,i)},X.prototype.geocentricSurfaceNormal=R.normalize,X.prototype.geodeticSurfaceNormalCartographic=function(e,t){r.typeOf.object("cartographic",e);let n=e.longitude,a=e.latitude,o=Math.cos(a),u=o*Math.cos(n),l=o*Math.sin(n),c=Math.sin(a);return i(t)||(t=new R),t.x=u,t.y=l,t.z=c,R.normalize(t,t)},X.prototype.geodeticSurfaceNormal=function(t,a){if(r.typeOf.object("cartesian",t),isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new n("cartesian has a NaN component");if(!R.equalsEpsilon(t,R.ZERO,e.EPSILON14))return i(a)||(a=new R),a=R.multiplyComponents(t,this._oneOverRadiiSquared,a),R.normalize(a,a)};var G=new R,Q=new R;X.prototype.cartographicToCartesian=function(e,t){this.geodeticSurfaceNormalCartographic(e,G),R.multiplyComponents(this._radiiSquared,G,Q);let n=Math.sqrt(R.dot(G,Q));return R.divideByScalar(Q,n,Q),R.multiplyByScalar(G,e.height,G),i(t)||(t=new R),R.add(Q,G,t)},X.prototype.cartographicArrayToCartesianArray=function(e,t){r.defined("cartographics",e);let n=e.length;i(t)?t.length=n:t=Array(n);for(let r=0;r<n;r++)t[r]=this.cartographicToCartesian(e[r],t[r]);return t};var H=new R,J=new R,K=new R;X.prototype.cartesianToCartographic=function(t,n){let r=this.scaleToGeodeticSurface(t,J);if(!i(r))return;let a=this.geodeticSurfaceNormal(r,H),o=R.subtract(t,r,K),u=Math.atan2(a.y,a.x),l=Math.asin(a.z),c=e.sign(R.dot(o,t))*R.magnitude(o);return i(n)?(n.longitude=u,n.latitude=l,n.height=c,n):new B(u,l,c)},X.prototype.cartesianArrayToCartographicArray=function(e,t){r.defined("cartesians",e);let n=e.length;i(t)?t.length=n:t=Array(n);for(let r=0;r<n;++r)t[r]=this.cartesianToCartographic(e[r],t[r]);return t},X.prototype.scaleToGeodeticSurface=function(e,t){return I(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},X.prototype.scaleToGeocentricSurface=function(e,t){r.typeOf.object("cartesian",e),i(t)||(t=new R);let n=e.x,a=e.y,o=e.z,u=this._oneOverRadiiSquared,l=1/Math.sqrt(n*n*u.x+a*a*u.y+o*o*u.z);return R.multiplyByScalar(e,l,t)},X.prototype.transformPositionToScaledSpace=function(e,t){return i(t)||(t=new R),R.multiplyComponents(e,this._oneOverRadii,t)},X.prototype.transformPositionFromScaledSpace=function(e,t){return i(t)||(t=new R),R.multiplyComponents(e,this._radii,t)},X.prototype.equals=function(e){return this===e||i(e)&&R.equals(this._radii,e._radii)},X.prototype.toString=function(){return this._radii.toString()},X.prototype.getSurfaceNormalIntersectionWithZAxis=function(a,o,u){if(r.typeOf.object("position",a),!e.equalsEpsilon(this._radii.x,this._radii.y,e.EPSILON15))throw new n("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");r.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),o=t(o,0);let l=this._squaredXOverSquaredZ;if(i(u)||(u=new R),u.x=0,u.y=0,u.z=a.z*(1-l),!(Math.abs(u.z)>=this._radii.z-o))return u};var ee=new R;X.prototype.getLocalCurvature=function(e,t){r.typeOf.object("surfacePosition",e),i(t)||(t=new Z);let n=this.getSurfaceNormalIntersectionWithZAxis(e,0,ee),a=R.distance(e,n),o=this.minimumRadius*a/this.maximumRadius**2;return Z.fromElements(1/a,1/(a*o**2),t)};var et=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],en=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function er(e,t,n){r.typeOf.number("a",e),r.typeOf.number("b",t),r.typeOf.func("func",n);let i=.5*(t+e),a=.5*(t-e),o=0;for(let e=0;e<5;e++){let t=a*et[e];o+=en[e]*(n(i+t)+n(i-t))}return o*a}X.prototype.surfaceArea=function(t){r.typeOf.object("rectangle",t);let n=t.west,i=t.east,a=t.south,o=t.north;for(;i<n;)i+=e.TWO_PI;let u=this._radiiSquared,l=u.x,c=u.y,s=u.z,f=l*c;return er(a,o,function(e){let t=Math.cos(e),r=Math.sin(e);return Math.cos(e)*er(n,i,function(e){let n=Math.cos(e),i=Math.sin(e);return Math.sqrt(f*r*r+s*(c*n*n+l*i*i)*t*t)})})};var ei=X;function ea(e,n,r,i,a,o,u,l,c){this[0]=t(e,0),this[1]=t(i,0),this[2]=t(u,0),this[3]=t(n,0),this[4]=t(a,0),this[5]=t(l,0),this[6]=t(r,0),this[7]=t(o,0),this[8]=t(c,0)}ea.packedLength=9,ea.pack=function(e,n,i){return r.typeOf.object("value",e),r.defined("array",n),i=t(i,0),n[i++]=e[0],n[i++]=e[1],n[i++]=e[2],n[i++]=e[3],n[i++]=e[4],n[i++]=e[5],n[i++]=e[6],n[i++]=e[7],n[i++]=e[8],n},ea.unpack=function(e,n,a){return r.defined("array",e),n=t(n,0),i(a)||(a=new ea),a[0]=e[n++],a[1]=e[n++],a[2]=e[n++],a[3]=e[n++],a[4]=e[n++],a[5]=e[n++],a[6]=e[n++],a[7]=e[n++],a[8]=e[n++],a},ea.packArray=function(e,t){r.defined("array",e);let a=e.length,o=9*a;if(i(t)){if(!Array.isArray(t)&&t.length!==o)throw new n("If result is a typed array, it must have exactly array.length * 9 elements");t.length!==o&&(t.length=o)}else t=Array(o);for(let n=0;n<a;++n)ea.pack(e[n],t,9*n);return t},ea.unpackArray=function(e,t){if(r.defined("array",e),r.typeOf.number.greaterThanOrEquals("array.length",e.length,9),e.length%9!=0)throw new n("array length must be a multiple of 9.");let a=e.length;i(t)?t.length=a/9:t=Array(a/9);for(let n=0;n<a;n+=9){let r=n/9;t[r]=ea.unpack(e,n,t[r])}return t},ea.clone=function(e,t){if(i(e))return i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new ea(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},ea.fromArray=ea.unpack,ea.fromColumnMajorArray=function(e,t){return r.defined("values",e),ea.clone(e,t)},ea.fromRowMajorArray=function(e,t){return r.defined("values",e),i(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new ea(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},ea.fromQuaternion=function(e,t){r.typeOf.object("quaternion",e);let n=e.x*e.x,a=e.x*e.y,o=e.x*e.z,u=e.x*e.w,l=e.y*e.y,c=e.y*e.z,s=e.y*e.w,f=e.z*e.z,y=e.z*e.w,p=e.w*e.w,d=n-l-f+p,m=2*(a-y),h=2*(o+s),b=2*(a+y),O=-n+l-f+p,g=2*(c-u),x=2*(o-s),j=2*(c+u),w=-n-l+f+p;return i(t)?(t[0]=d,t[1]=b,t[2]=x,t[3]=m,t[4]=O,t[5]=j,t[6]=h,t[7]=g,t[8]=w,t):new ea(d,m,h,b,O,g,x,j,w)},ea.fromHeadingPitchRoll=function(e,t){r.typeOf.object("headingPitchRoll",e);let n=Math.cos(-e.pitch),a=Math.cos(-e.heading),o=Math.cos(e.roll),u=Math.sin(-e.pitch),l=Math.sin(-e.heading),c=Math.sin(e.roll),s=n*a,f=-o*l+c*u*a,y=c*l+o*u*a,p=n*l,d=o*a+c*u*l,m=-c*a+o*u*l,h=-u,b=c*n,O=o*n;return i(t)?(t[0]=s,t[1]=p,t[2]=h,t[3]=f,t[4]=d,t[5]=b,t[6]=y,t[7]=m,t[8]=O,t):new ea(s,f,y,p,d,m,h,b,O)},ea.fromScale=function(e,t){return r.typeOf.object("scale",e),i(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new ea(e.x,0,0,0,e.y,0,0,0,e.z)},ea.fromUniformScale=function(e,t){return r.typeOf.number("scale",e),i(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new ea(e,0,0,0,e,0,0,0,e)},ea.fromCrossProduct=function(e,t){return r.typeOf.object("vector",e),i(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new ea(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},ea.fromRotationX=function(e,t){r.typeOf.number("angle",e);let n=Math.cos(e),a=Math.sin(e);return i(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=a,t[6]=0,t[7]=-a,t[8]=n,t):new ea(1,0,0,0,n,-a,0,a,n)},ea.fromRotationY=function(e,t){r.typeOf.number("angle",e);let n=Math.cos(e),a=Math.sin(e);return i(t)?(t[0]=n,t[1]=0,t[2]=-a,t[3]=0,t[4]=1,t[5]=0,t[6]=a,t[7]=0,t[8]=n,t):new ea(n,0,a,0,1,0,-a,0,n)},ea.fromRotationZ=function(e,t){r.typeOf.number("angle",e);let n=Math.cos(e),a=Math.sin(e);return i(t)?(t[0]=n,t[1]=a,t[2]=0,t[3]=-a,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new ea(n,-a,0,a,n,0,0,0,1)},ea.toArray=function(e,t){return r.typeOf.object("matrix",e),i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},ea.getElementIndex=function(e,t){return r.typeOf.number.greaterThanOrEquals("row",t,0),r.typeOf.number.lessThanOrEquals("row",t,2),r.typeOf.number.greaterThanOrEquals("column",e,0),r.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},ea.getColumn=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,2),r.typeOf.object("result",n);let i=3*t,a=e[i],o=e[i+1],u=e[i+2];return n.x=a,n.y=o,n.z=u,n},ea.setColumn=function(e,t,n,i){r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,2),r.typeOf.object("cartesian",n),r.typeOf.object("result",i),i=ea.clone(e,i);let a=3*t;return i[a]=n.x,i[a+1]=n.y,i[a+2]=n.z,i},ea.getRow=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,2),r.typeOf.object("result",n);let i=e[t],a=e[t+3],o=e[t+6];return n.x=i,n.y=a,n.z=o,n},ea.setRow=function(e,t,n,i){return r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,2),r.typeOf.object("cartesian",n),r.typeOf.object("result",i),(i=ea.clone(e,i))[t]=n.x,i[t+3]=n.y,i[t+6]=n.z,i};var eo=new R;ea.setScale=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("scale",t),r.typeOf.object("result",n);let i=ea.getScale(e,eo),a=t.x/i.x,o=t.y/i.y,u=t.z/i.z;return n[0]=e[0]*a,n[1]=e[1]*a,n[2]=e[2]*a,n[3]=e[3]*o,n[4]=e[4]*o,n[5]=e[5]*o,n[6]=e[6]*u,n[7]=e[7]*u,n[8]=e[8]*u,n};var eu=new R;ea.setUniformScale=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.number("scale",t),r.typeOf.object("result",n);let i=ea.getScale(e,eu),a=t/i.x,o=t/i.y,u=t/i.z;return n[0]=e[0]*a,n[1]=e[1]*a,n[2]=e[2]*a,n[3]=e[3]*o,n[4]=e[4]*o,n[5]=e[5]*o,n[6]=e[6]*u,n[7]=e[7]*u,n[8]=e[8]*u,n};var el=new R;ea.getScale=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t.x=R.magnitude(R.fromElements(e[0],e[1],e[2],el)),t.y=R.magnitude(R.fromElements(e[3],e[4],e[5],el)),t.z=R.magnitude(R.fromElements(e[6],e[7],e[8],el)),t};var ec=new R;ea.getMaximumScale=function(e){return ea.getScale(e,ec),R.maximumComponent(ec)};var es=new R;ea.setRotation=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("result",n);let i=ea.getScale(e,es);return n[0]=t[0]*i.x,n[1]=t[1]*i.x,n[2]=t[2]*i.x,n[3]=t[3]*i.y,n[4]=t[4]*i.y,n[5]=t[5]*i.y,n[6]=t[6]*i.z,n[7]=t[7]*i.z,n[8]=t[8]*i.z,n};var ef=new R;ea.getRotation=function(e,t){r.typeOf.object("matrix",e),r.typeOf.object("result",t);let n=ea.getScale(e,ef);return t[0]=e[0]/n.x,t[1]=e[1]/n.x,t[2]=e[2]/n.x,t[3]=e[3]/n.y,t[4]=e[4]/n.y,t[5]=e[5]/n.y,t[6]=e[6]/n.z,t[7]=e[7]/n.z,t[8]=e[8]/n.z,t},ea.multiply=function(e,t,n){r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n);let i=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],u=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],l=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],c=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],s=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],f=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],y=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=i,n[1]=a,n[2]=o,n[3]=u,n[4]=l,n[5]=c,n[6]=s,n[7]=f,n[8]=y,n},ea.add=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},ea.subtract=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},ea.multiplyByVector=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("cartesian",t),r.typeOf.object("result",n);let i=t.x,a=t.y,o=t.z,u=e[0]*i+e[3]*a+e[6]*o,l=e[1]*i+e[4]*a+e[7]*o,c=e[2]*i+e[5]*a+e[8]*o;return n.x=u,n.y=l,n.z=c,n},ea.multiplyByScalar=function(e,t,n){return r.typeOf.object("matrix",e),r.typeOf.number("scalar",t),r.typeOf.object("result",n),n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},ea.multiplyByScale=function(e,t,n){return r.typeOf.object("matrix",e),r.typeOf.object("scale",t),r.typeOf.object("result",n),n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},ea.multiplyByUniformScale=function(e,t,n){return r.typeOf.object("matrix",e),r.typeOf.number("scale",t),r.typeOf.object("result",n),n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},ea.negate=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},ea.transpose=function(e,t){r.typeOf.object("matrix",e),r.typeOf.object("result",t);let n=e[0],i=e[3],a=e[6],o=e[1],u=e[4],l=e[7],c=e[2],s=e[5],f=e[8];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=l,t[6]=c,t[7]=s,t[8]=f,t};var ey=[1,0,0],ep=[2,2,1],ed=new ea,em=new ea;ea.computeEigenDecomposition=function(t,n){r.typeOf.object("matrix",t);let a=e.EPSILON20,o=0,u=0;i(n)||(n={});let l=n.unitary=ea.clone(ea.IDENTITY,n.unitary),c=n.diagonal=ea.clone(t,n.diagonal),s=a*function(e){let t=0;for(let n=0;n<9;++n){let r=e[n];t+=r*r}return Math.sqrt(t)}(c);for(;u<10&&function(e){let t=0;for(let n=0;n<3;++n){let r=e[ea.getElementIndex(ep[n],ey[n])];t+=2*r*r}return Math.sqrt(t)}(c)>s;)(function(t,n){let r=e.EPSILON15,i=0,a=1;for(let e=0;e<3;++e){let n=Math.abs(t[ea.getElementIndex(ep[e],ey[e])]);n>i&&(a=e,i=n)}let o=1,u=0,l=ey[a],c=ep[a];if(Math.abs(t[ea.getElementIndex(c,l)])>r){let e=(t[ea.getElementIndex(c,c)]-t[ea.getElementIndex(l,l)])/2/t[ea.getElementIndex(c,l)],n;o=1/Math.sqrt(1+(n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)))*n),u=n*o}(n=ea.clone(ea.IDENTITY,n))[ea.getElementIndex(l,l)]=n[ea.getElementIndex(c,c)]=o,n[ea.getElementIndex(c,l)]=u,n[ea.getElementIndex(l,c)]=-u})(c,ed),ea.transpose(ed,em),ea.multiply(c,ed,c),ea.multiply(em,c,c),ea.multiply(l,ed,l),++o>2&&(++u,o=0);return n},ea.abs=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},ea.determinant=function(e){r.typeOf.object("matrix",e);let t=e[0],n=e[3],i=e[6],a=e[1],o=e[4],u=e[7],l=e[2],c=e[5],s=e[8];return t*(o*s-c*u)+a*(c*i-n*s)+l*(n*u-o*i)},ea.inverse=function(t,i){r.typeOf.object("matrix",t),r.typeOf.object("result",i);let a=t[0],o=t[1],u=t[2],l=t[3],c=t[4],s=t[5],f=t[6],y=t[7],p=t[8],d=ea.determinant(t);if(Math.abs(d)<=e.EPSILON15)throw new n("matrix is not invertible");return i[0]=c*p-y*s,i[1]=y*u-o*p,i[2]=o*s-c*u,i[3]=f*s-l*p,i[4]=a*p-f*u,i[5]=l*u-a*s,i[6]=l*y-f*c,i[7]=f*o-a*y,i[8]=a*c-l*o,ea.multiplyByScalar(i,1/d,i)};var eh=new ea;ea.inverseTranspose=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),ea.inverse(ea.transpose(e,eh),t)},ea.equals=function(e,t){return e===t||i(e)&&i(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},ea.equalsEpsilon=function(e,n,r){return r=t(r,0),e===n||i(e)&&i(n)&&Math.abs(e[0]-n[0])<=r&&Math.abs(e[1]-n[1])<=r&&Math.abs(e[2]-n[2])<=r&&Math.abs(e[3]-n[3])<=r&&Math.abs(e[4]-n[4])<=r&&Math.abs(e[5]-n[5])<=r&&Math.abs(e[6]-n[6])<=r&&Math.abs(e[7]-n[7])<=r&&Math.abs(e[8]-n[8])<=r},ea.IDENTITY=Object.freeze(new ea(1,0,0,0,1,0,0,0,1)),ea.ZERO=Object.freeze(new ea(0,0,0,0,0,0,0,0,0)),ea.COLUMN0ROW0=0,ea.COLUMN0ROW1=1,ea.COLUMN0ROW2=2,ea.COLUMN1ROW0=3,ea.COLUMN1ROW1=4,ea.COLUMN1ROW2=5,ea.COLUMN2ROW0=6,ea.COLUMN2ROW1=7,ea.COLUMN2ROW2=8,Object.defineProperties(ea.prototype,{length:{get:function(){return ea.packedLength}}}),ea.prototype.clone=function(e){return ea.clone(this,e)},ea.prototype.equals=function(e){return ea.equals(this,e)},ea.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},ea.prototype.equalsEpsilon=function(e,t){return ea.equalsEpsilon(this,e,t)},ea.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})
(${this[1]}, ${this[4]}, ${this[7]})
(${this[2]}, ${this[5]}, ${this[8]})`};var eb,eO=ea,eg={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},ex={};function ej(e){let t=e.split(".");for(let e=0,n=t.length;e<n;++e)t[e]=parseInt(t[e],10);return t}function ew(){if(!i(u)&&(u=!1,!ev())){let e=/ Chrome\/([\.0-9]+)/.exec(o.userAgent);null!==e&&(u=!0,l=ej(e[1]))}return u}function ez(){if(!i(c)&&(c=!1,!ew()&&!ev()&&/ Safari\/[\.0-9]+/.test(o.userAgent))){let e=/ Version\/([\.0-9]+)/.exec(o.userAgent);null!==e&&(c=!0,s=ej(e[1]))}return c}function eq(){if(!i(f)){f=!1;let e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(o.userAgent);null!==e&&(f=!0,(y=ej(e[1])).isNightly=!!e[2])}return f}function eS(){if(!i(p)){let e;p=!1,"Microsoft Internet Explorer"===o.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(o.userAgent))&&(p=!0,d=ej(e[1])):"Netscape"===o.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(o.userAgent))&&(p=!0,d=ej(e[1]))}return p}function ev(){if(!i(m)){m=!1;let e=/ Edg\/([\.0-9]+)/.exec(o.userAgent);null!==e&&(m=!0,h=ej(e[1]))}return m}function eE(){if(!i(b)){b=!1;let e=/Firefox\/([\.0-9]+)/.exec(o.userAgent);null!==e&&(b=!0,O=ej(e[1]))}return b}function eA(){if(!i(z)){let e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");let t=e.style.imageRendering;(z=i(t)&&""!==t)&&(w=t)}return z}function eM(){if(!eM.initialized)throw new n("You must call FeatureDetection.supportsWebP.initialize and wait for the promise to resolve before calling FeatureDetection.supportsWebP");return eM._result}Object.defineProperties(ex,{element:{get:function(){if(ex.supportsFullscreen())return document[eg.fullscreenElement]}},changeEventName:{get:function(){if(ex.supportsFullscreen())return eg.fullscreenchange}},errorEventName:{get:function(){if(ex.supportsFullscreen())return eg.fullscreenerror}},enabled:{get:function(){if(ex.supportsFullscreen())return document[eg.fullscreenEnabled]}},fullscreen:{get:function(){if(ex.supportsFullscreen())return null!==ex.element}}}),ex.supportsFullscreen=function(){if(i(eb))return eb;eb=!1;let e=document.body;if("function"==typeof e.requestFullscreen)return eg.requestFullscreen="requestFullscreen",eg.exitFullscreen="exitFullscreen",eg.fullscreenEnabled="fullscreenEnabled",eg.fullscreenElement="fullscreenElement",eg.fullscreenchange="fullscreenchange",eg.fullscreenerror="fullscreenerror",eb=!0;let t=["webkit","moz","o","ms","khtml"],n;for(let r=0,i=t.length;r<i;++r){let i=t[r];"function"==typeof e[n=`${i}RequestFullscreen`]?(eg.requestFullscreen=n,eb=!0):"function"==typeof e[n=`${i}RequestFullScreen`]&&(eg.requestFullscreen=n,eb=!0),"function"==typeof document[n=`${i}ExitFullscreen`]?eg.exitFullscreen=n:"function"==typeof document[n=`${i}CancelFullScreen`]&&(eg.exitFullscreen=n),void 0!==document[n=`${i}FullscreenEnabled`]?eg.fullscreenEnabled=n:void 0!==document[n=`${i}FullScreenEnabled`]&&(eg.fullscreenEnabled=n),void 0!==document[n=`${i}FullscreenElement`]?eg.fullscreenElement=n:void 0!==document[n=`${i}FullScreenElement`]&&(eg.fullscreenElement=n),n=`${i}fullscreenchange`,void 0!==document[`on${n}`]&&("ms"===i&&(n="MSFullscreenChange"),eg.fullscreenchange=n),n=`${i}fullscreenerror`,void 0!==document[`on${n}`]&&("ms"===i&&(n="MSFullscreenError"),eg.fullscreenerror=n)}return eb},ex.requestFullscreen=function(e,t){ex.supportsFullscreen()&&e[eg.requestFullscreen]({vrDisplay:t})},ex.exitFullscreen=function(){ex.supportsFullscreen()&&document[eg.exitFullscreen]()},ex._names=eg,o="u">typeof navigator?navigator:{},eM._promise=void 0,eM._result=void 0,eM.initialize=function(){return i(eM._promise)||(eM._promise=new Promise(e=>{let t=new Image;t.onload=function(){eM._result=t.width>0&&t.height>0,e(eM._result)},t.onerror=function(){eM._result=!1,e(eM._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"})),eM._promise},Object.defineProperties(eM,{initialized:{get:function(){return i(eM._result)}}});var e_=[];"u">typeof ArrayBuffer&&(e_.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"u">typeof Uint8ClampedArray&&e_.push(Uint8ClampedArray),"u">typeof Uint8ClampedArray&&e_.push(Uint8ClampedArray),"u">typeof BigInt64Array&&e_.push(BigInt64Array),"u">typeof BigUint64Array&&e_.push(BigUint64Array));var eR={isChrome:ew,chromeVersion:function(){return ew()&&l},isSafari:ez,safariVersion:function(){return ez()&&s},isWebkit:eq,webkitVersion:function(){return eq()&&y},isInternetExplorer:eS,internetExplorerVersion:function(){return eS()&&d},isEdge:ev,edgeVersion:function(){return ev()&&h},isFirefox:eE,firefoxVersion:function(){return eE()&&O},isWindows:function(){return i(g)||(g=/Windows/i.test(o.appVersion)),g},isIPadOrIOS:function(){return i(x)||(x="iPhone"===navigator.platform||"iPod"===navigator.platform||"iPad"===navigator.platform),x},hardwareConcurrency:t(o.hardwareConcurrency,3),supportsPointerEvents:function(){return i(j)||(j=!eE()&&"u">typeof PointerEvent&&(!i(o.pointerEnabled)||o.pointerEnabled)),j},supportsImageRenderingPixelated:eA,supportsWebP:eM,imageRenderingValue:function(){return eA()?w:void 0},typedArrayTypes:e_};eR.supportsBasis=function(e){return eR.supportsWebAssembly()&&e.context.supportsBasis},eR.supportsFullscreen=function(){return ex.supportsFullscreen()},eR.supportsTypedArrays=function(){return"u">typeof ArrayBuffer},eR.supportsBigInt64Array=function(){return"u">typeof BigInt64Array},eR.supportsBigUint64Array=function(){return"u">typeof BigUint64Array},eR.supportsBigInt=function(){return"u">typeof BigInt},eR.supportsWebWorkers=function(){return"u">typeof Worker},eR.supportsWebAssembly=function(){return"u">typeof WebAssembly},eR.supportsWebgl2=function(e){return r.defined("scene",e),e.context.webgl2},eR.supportsEsmWebWorkers=function(){return!eE()||parseInt(O)>=114};var eT=eR;export{R as a,B as b,Z as c,ei as d,eO as e,eT as f};