import{a as t,b as e,d as i}from"./chunk-JMSSU44E.js";import{a as o}from"./chunk-4UYSGV57.js";import{a as a}from"./chunk-VLPNAR64.js";import{a as r}from"./chunk-GE5NEIZC.js";import{e as n}from"./chunk-35CVRQTC.js";function u(t){this._ellipsoid=a(t,i.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),u.mercatorAngleToGeodeticLatitude=function(t){return o.PI_OVER_TWO-2*Math.atan(Math.exp(-t))},u.geodeticLatitudeToMercatorAngle=function(t){t>u.MaximumLatitude?t=u.MaximumLatitude:t<-u.MaximumLatitude&&(t=-u.MaximumLatitude);let e=Math.sin(t);return .5*Math.log((1+e)/(1-e))},u.MaximumLatitude=u.mercatorAngleToGeodeticLatitude(Math.PI),u.prototype.project=function(e,i){let o=this._semimajorAxis,a=e.longitude*o,r=u.geodeticLatitudeToMercatorAngle(e.latitude)*o,s=e.height;return n(i)?(i.x=a,i.y=r,i.z=s,i):new t(a,r,s)},u.prototype.unproject=function(t,i){if(!n(t))throw new r("cartesian is required");let o=this._oneOverSemimajorAxis,a=t.x*o,s=u.mercatorAngleToGeodeticLatitude(t.y*o),m=t.z;return n(i)?(i.longitude=a,i.latitude=s,i.height=m,i):new e(a,s,m)};var s=u;export{s as a};