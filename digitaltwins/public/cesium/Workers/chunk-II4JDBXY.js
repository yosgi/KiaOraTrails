import{a as t}from"./chunk-M5SITFFN.js";import{a as e}from"./chunk-WNTCOVG2.js";import{a as i,b as o}from"./chunk-JMSSU44E.js";import{a as r}from"./chunk-4UYSGV57.js";import{e as n}from"./chunk-35CVRQTC.js";var s={},a=new o,h=new o,l=[,,],g=[,,],u={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};s.computePositions=function(s,p,m,c,f,d){let A=function(t,s,l,g){let u=(s=e(s,i.equalsEpsilon)).length;if(u<2)return;let p=n(g),m=n(l),c=Array(u),f=Array(u),d=Array(u),A=s[0];c[0]=A;let y=t.cartesianToCartographic(A,a);m&&(y.height=l[0]),f[0]=y.height,p?d[0]=g[0]:d[0]=0;let j=f[0]===d[0],v=1;for(let e=1;e<u;++e){let i=s[e],n=t.cartesianToCartographic(i,h);m&&(n.height=l[e]),j=j&&0===n.height,r.equalsEpsilon(y.latitude,n.latitude,r.EPSILON10)&&r.equalsEpsilon(y.longitude,n.longitude,r.EPSILON10)?y.height<n.height&&(f[v-1]=n.height):(c[v]=i,f[v]=n.height,p?d[v]=g[e]:d[v]=0,j=j&&f[v]===d[v],o.clone(n,y),++v)}if(!(j||v<2))return c.length=v,f.length=v,d.length=v,{positions:c,topHeights:f,bottomHeights:d}}(s,p,m,c);if(!n(A))return;p=A.positions,m=A.topHeights,c=A.bottomHeights;let y=p.length,j,v,w=r.chordLength(f,s.maximumRadius);if(u.minDistance=w,u.ellipsoid=s,d){let e=0,i;for(i=0;i<y-1;i++)e+=t.numberOfPoints(p[i],p[i+1],w)+1;j=new Float64Array(3*e),v=new Float64Array(3*e),u.positions=l,u.height=g;let o=0;for(i=0;i<y-1;i++){l[0]=p[i],l[1]=p[i+1],g[0]=m[i],g[1]=m[i+1];let e=t.generateArc(u);j.set(e,o),g[0]=c[i],g[1]=c[i+1],v.set(t.generateArc(u),o),o+=e.length}}else u.positions=p,u.height=m,j=new Float64Array(t.generateArc(u)),u.height=c,v=new Float64Array(t.generateArc(u));return{bottomPositions:v,topPositions:j,numCorners:y-2}};var p=s;export{p as a};